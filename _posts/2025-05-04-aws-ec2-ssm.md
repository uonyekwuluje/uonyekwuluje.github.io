---
layout: post
title:  "AWS SSM Instead of SSH to Access EC2 Instances"
categories: AWS
author: Uchechukwu Onyekwuluje
---

In Amazon Web Services (AWS), the need to manage multiple instances of Amazon Elastic Compute Cloud (EC2) instances effectively has led to the development of various tools to simplify the process. One such tool is the AWS Systems Manager (SSM), which enables users to manage EC2 instances, as well as other AWS resources, using a single interface. One of the most powerful features of SSM is the ability to perform SSH-less login to EC2 machines, which we will explore in this blog.

### Simple Systems Manager Setup  
To use SSM for SSH-less login, follow the steps below:
<br>
**Security Group for EC2 Instance:** The minimum traffic you need to allow for SSM access to work 
is to add an Outbound HTTPS (port 443) in the security group for EC2 instance.
<br>
**Create an IAM Role:** To use SSM to log in to EC2 instances, you must first create an IAM role with 
the required permissions. The role must have the AmazonEC2RoleforSSM policy attached to it, which allows 
SSM to access the EC2 instances.
<br>
**Install SSM Agent:** After creating the IAM role, you need to install the SSM agent on each EC2 instance 
you want to access using SSM. The SSM agent is pre-installed on Amazon Linux 2 and Amazon Linux AMIs, 
but you must install it manually on other instances.


```
sudo mkdir -p /opt/dkmount/
sudo chmod 777 /opt/dkmount/

docker run --rm --name nginxt -v /opt/dkmount:/tmp/ nginx:latest sh -c "nginx -v > /tmp/ng.out 2>&1"

ls -l /opt/dkmount/
total 4

cat /opt/dkmount/ng.out 
nginx version: nginx/1.25.3
```
